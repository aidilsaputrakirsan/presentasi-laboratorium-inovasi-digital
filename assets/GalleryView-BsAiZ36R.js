import{C as _,c as w,L as C,P,e as Y,p as S,a as B,b as I,i as T,f as E}from"./index-DlmMgOeq.js";import{a as y,p as L}from"./index-D-5nodLS.js";import{_ as R,e as j,c,o as d,a as s,b as v,g as m,t as i,j as f,v as k,F as p,r as h,m as M,i as U,n as g,d as b,h as A}from"./index-C554djNZ.js";_.register(w,C,P,Y,S,B,I,T);const D={name:"ResearchGallery",components:{Line:E},data(){return{activeTab:"research",selectedProdi:"all",selectedYear:"all",searchQuery:"",tabs:[{key:"research",label:"Penelitian",icon:"ðŸ”¬"},{key:"services",label:"Pengabdian",icon:"ðŸ¤"},{key:"scopus",label:"Scopus",icon:"ðŸ“Š"},{key:"sinta",label:"SINTA",icon:"ðŸ“‘"},{key:"google",label:"G.Scholar",icon:"ðŸŽ“"},{key:"rama",label:"RAMA",icon:"ðŸ“"},{key:"books",label:"Buku",icon:"ðŸ“š"},{key:"ipr",label:"HKI",icon:"ðŸ’¡"}],trendChartOptions:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",titleColor:"#fff",bodyColor:"#cbd5e1",borderColor:"rgba(148, 163, 184, 0.2)",borderWidth:1,padding:12,cornerRadius:8,displayColors:!0,callbacks:{title:t=>`Tahun ${t[0].label}`,label:t=>` ${t.dataset.label}: ${t.raw} karya`}}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{weight:"bold",size:11}}},y:{beginAtZero:!0,grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"#64748b",font:{weight:"bold"},stepSize:5}}},elements:{line:{tension:.4},point:{radius:4,hoverRadius:6}}}}},computed:{availableProdi(){return y.filter(t=>t.hasData)},lecturers(){const t=[];return y.filter(e=>e.hasData).forEach(e=>{var n;const r=L[e.slug];(n=r==null?void 0:r.sintaData)!=null&&n.lecturers&&t.push(...r.sintaData.lecturers)}),t},filteredLecturers(){return this.selectedProdi==="all"?this.lecturers:this.lecturers.filter(t=>t.prodi===this.selectedProdi)},chartYears(){const t=new Set;return this.filteredLecturers.forEach(e=>{(e.research||[]).forEach(r=>{r.year&&t.add(String(r.year))}),(e.services||[]).forEach(r=>{r.year&&t.add(String(r.year))})}),[...t].sort((e,r)=>Number(e)-Number(r))},researchByYear(){const t={};return this.chartYears.forEach(e=>t[e]=0),this.filteredLecturers.forEach(e=>{(e.research||[]).forEach(r=>{const n=String(r.year);t[n]!==void 0&&t[n]++})}),t},servicesByYear(){const t={};return this.chartYears.forEach(e=>t[e]=0),this.filteredLecturers.forEach(e=>{(e.services||[]).forEach(r=>{const n=String(r.year);t[n]!==void 0&&t[n]++})}),t},totalResearchFiltered(){return Object.values(this.researchByYear).reduce((t,e)=>t+e,0)},totalServicesFiltered(){return Object.values(this.servicesByYear).reduce((t,e)=>t+e,0)},peakYear(){let t=null,e=0;return this.chartYears.forEach(r=>{const n=(this.researchByYear[r]||0)+(this.servicesByYear[r]||0);n>e&&(e=n,t=r)}),{year:t,total:e}},trendChartData(){return{labels:this.chartYears,datasets:[{label:"Penelitian",data:this.chartYears.map(t=>this.researchByYear[t]||0),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.15)",fill:!0,borderWidth:3,pointBackgroundColor:"#3b82f6",pointBorderColor:"#fff",pointBorderWidth:2},{label:"Pengabdian",data:this.chartYears.map(t=>this.servicesByYear[t]||0),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.15)",fill:!0,borderWidth:3,pointBackgroundColor:"#10b981",pointBorderColor:"#fff",pointBorderWidth:2}]}},allItems(){const t=[];return this.lecturers.forEach(e=>{var r,n;(e.research||[]).forEach(a=>{t.push({type:"research",title:a.title,year:a.year,author:e.name,prodi:e.prodi,image:`https://picsum.photos/seed/${encodeURIComponent(a.title+"research")}/800/600`})}),(e.services||[]).forEach(a=>{t.push({type:"services",title:a.title,year:a.year,author:e.name,prodi:e.prodi,image:`https://picsum.photos/seed/${encodeURIComponent(a.title+"services")}/800/600`})}),(((r=e.documents)==null?void 0:r.list)||[]).forEach(a=>{let l="sinta",u=(a.category||"").toUpperCase();u.includes("SCOPUS")?l="scopus":u.includes("SINTA")?l="sinta":u.includes("GOOGLE")?l="google":u.includes("RAMA")&&(l="rama"),t.push({type:l,title:a.title,q:a.category,year:a.year,author:e.name,prodi:e.prodi,image:`https://picsum.photos/seed/${encodeURIComponent(a.title+l)}/800/600`})}),(e.books||[]).forEach(a=>{t.push({type:"books",title:a.title,year:a.year,author:e.name,prodi:e.prodi,image:`https://picsum.photos/seed/${encodeURIComponent(a.title+"book")}/800/600`})}),(((n=e.ipr)==null?void 0:n.list)||[]).forEach(a=>{t.push({type:"ipr",title:a.title,category:a.category,author:e.name,prodi:e.prodi,image:`https://picsum.photos/seed/${encodeURIComponent(a.title+"ipr")}/800/600`})})}),t},totalItems(){return this.allItems.length},availableYears(){const t=new Set;return this.allItems.forEach(e=>{e.year&&t.add(e.year)}),[...t].sort((e,r)=>r-e)},filteredItems(){return this.allItems.filter(t=>{var e,r;if(t.type!==this.activeTab||this.selectedProdi!=="all"&&t.prodi!==this.selectedProdi||this.selectedYear!=="all"&&t.year!==this.selectedYear)return!1;if(this.searchQuery){const n=this.searchQuery.toLowerCase(),a=(e=t.title)==null?void 0:e.toLowerCase().includes(n),l=(r=t.author)==null?void 0:r.toLowerCase().includes(n);if(!a&&!l)return!1}return!0})}},methods:{getTabCount(t){let e=this.allItems.filter(r=>r.type===t);return this.selectedProdi!=="all"&&(e=e.filter(r=>r.prodi===this.selectedProdi)),e.length},getBadgeClass(t){const e="px-2 py-1 rounded-lg text-xs font-bold";if(t.type==="research")return`${e} bg-blue-100 text-blue-700`;if(t.type==="services")return`${e} bg-emerald-100 text-emerald-700`;if(t.type==="scopus"){const r=(t.q||"").toUpperCase();return r.includes("Q1")?`${e} bg-indigo-200 text-indigo-800`:r.includes("Q2")?`${e} bg-indigo-100 text-indigo-700`:r.includes("Q3")?`${e} bg-indigo-50 text-indigo-600`:r.includes("Q4")?`${e} bg-slate-100 text-indigo-500`:`${e} bg-slate-100 text-slate-500`}if(t.type==="sinta"){const r=(t.q||"").toUpperCase();return r.includes("S1")?`${e} bg-sky-200 text-sky-800`:r.includes("S2")?`${e} bg-sky-100 text-sky-700`:r.includes("S3")?`${e} bg-sky-50 text-sky-600`:`${e} bg-slate-100 text-sky-500`}return t.type==="google"?`${e} bg-orange-100 text-orange-700`:t.type==="rama"?`${e} bg-pink-100 text-pink-700`:t.type==="books"?`${e} bg-teal-100 text-teal-700`:t.type==="ipr"?t.category==="hakCipta"?`${e} bg-amber-100 text-amber-700`:t.category==="paten"?`${e} bg-purple-100 text-purple-700`:`${e} bg-slate-100 text-slate-600`:`${e} bg-slate-100 text-slate-600`},getBadgeText(t){return t.type==="research"?"Penelitian":t.type==="services"?"Pengabdian":t.type==="scopus"?t.q||"Scopus":t.type==="sinta"?t.q||"SINTA":t.type==="google"?"Google Scholar":t.type==="rama"?"RAMA":t.type==="books"?"Buku":t.type==="ipr"?t.category==="hakCipta"?"Hak Cipta":t.category==="paten"?"Paten":"HKI":t.type}}},N={class:"space-y-6"},Q={class:"card bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 border-slate-700"},V={class:"flex items-center justify-between mb-6"},z={class:"flex items-center gap-4"},G={class:"flex items-center gap-3"},K={class:"px-2 py-0.5 bg-gradient-to-r from-rose-500 to-pink-500 text-white text-[10px] font-bold rounded-full uppercase tracking-wider"},O={class:"flex flex-wrap gap-3 items-center"},q=["value"],F={class:"flex-1 min-w-[200px]"},W={class:"relative"},H=["value"],$={class:"card hover:shadow-lg transition-shadow"},Z={class:"mb-4"},J={class:"text-xs text-slate-400 mt-1"},X={class:"h-64"},ee={class:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4 pt-4 border-t border-slate-100"},te={class:"text-center"},se={class:"text-xl font-black text-blue-600"},re={class:"text-center"},ae={class:"text-xl font-black text-emerald-600"},oe={class:"text-center"},le={class:"text-xl font-black text-purple-600"},ie={class:"text-center"},ne={class:"text-xl font-black text-rose-600"},de={class:"text-[10px] uppercase tracking-wider text-slate-500 font-medium"},ce={class:"flex flex-wrap gap-2"},ue=["onClick"],pe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},he={class:"aspect-video w-full rounded-lg overflow-hidden mb-3 bg-slate-100 relative group-hover:shadow-inner"},fe=["src","alt"],ge={class:"flex items-center justify-between mb-2"},be={key:0,class:"text-xs text-slate-400 font-medium"},xe=["title"],ye={class:"flex items-center gap-2 text-xs text-slate-500 mt-auto"},ve={class:"flex flex-col min-w-0"},me={class:"font-medium truncate"},ke={class:"text-slate-400 text-[10px] truncate"},_e={key:0,class:"card text-center py-12"},we={class:"text-center text-sm text-slate-500 pt-4"},Ce={class:"text-slate-700"},Pe={class:"text-slate-700"};function Ye(t,e,r,n,a,l){const u=j("Line");return d(),c("div",N,[s("div",Q,[s("div",V,[s("div",z,[e[5]||(e[5]=m('<div class="relative" data-v-6709059f><div class="w-14 h-14 bg-gradient-to-br from-rose-500 via-pink-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-rose-500/30" data-v-6709059f><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6709059f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-6709059f></path></svg></div><div class="absolute inset-0 rounded-2xl bg-rose-500/30 animate-ping" data-v-6709059f></div></div>',1)),s("div",null,[s("div",G,[e[3]||(e[3]=s("h1",{class:"text-2xl font-black text-white tracking-tight"},"Koleksi Karya",-1)),s("span",K,i(l.totalItems)+" Items",1)]),e[4]||(e[4]=s("p",{class:"text-sm text-slate-400 mt-0.5"},"Kumpulan Penelitian, Pengabdian, Publikasi & HKI Dosen",-1))])])]),s("div",O,[f(s("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.selectedProdi=o),class:"bg-slate-700 text-white px-4 py-2 rounded-lg text-sm font-medium border border-slate-600 focus:border-rose-500 focus:outline-none"},[e[6]||(e[6]=s("option",{value:"all"},"Semua Prodi",-1)),(d(!0),c(p,null,h(l.availableProdi,o=>(d(),c("option",{key:o.slug,value:o.name},i(o.name),9,q))),128))],512),[[k,a.selectedProdi]]),s("div",F,[s("div",W,[f(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.searchQuery=o),type:"text",placeholder:"Cari judul atau nama dosen...",class:"w-full bg-slate-700 text-white px-4 py-2 pl-10 rounded-lg text-sm border border-slate-600 focus:border-rose-500 focus:outline-none placeholder-slate-400"},null,512),[[M,a.searchQuery]]),e[7]||(e[7]=s("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),f(s("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.selectedYear=o),class:"bg-slate-700 text-white px-4 py-2 rounded-lg text-sm font-medium border border-slate-600 focus:border-rose-500 focus:outline-none"},[e[8]||(e[8]=s("option",{value:"all"},"Semua Tahun",-1)),(d(!0),c(p,null,h(l.availableYears,o=>(d(),c("option",{key:o,value:o},i(o),9,H))),128))],512),[[k,a.selectedYear]])])]),s("div",$,[s("div",Z,[e[9]||(e[9]=m('<div class="flex items-center justify-between" data-v-6709059f><div class="flex items-center gap-2" data-v-6709059f><span class="w-3 h-3 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-full" data-v-6709059f></span><h3 class="text-lg font-bold text-slate-800" data-v-6709059f>Tren Penelitian &amp; Pengabdian</h3></div><div class="flex gap-2 text-[10px] uppercase tracking-tighter" data-v-6709059f><span class="px-2 py-0.5 bg-blue-100 text-blue-700 rounded flex items-center gap-1" data-v-6709059f><span class="w-2 h-2 bg-blue-500 rounded-full" data-v-6709059f></span> Penelitian </span><span class="px-2 py-0.5 bg-emerald-100 text-emerald-700 rounded flex items-center gap-1" data-v-6709059f><span class="w-2 h-2 bg-emerald-500 rounded-full" data-v-6709059f></span> Pengabdian </span></div></div>',1)),s("p",J," Data "+i(a.selectedProdi==="all"?"semua prodi":a.selectedProdi)+" dari tahun "+i(l.chartYears[0]||"-")+" hingga "+i(l.chartYears[l.chartYears.length-1]||"-"),1)]),s("div",X,[U(u,{data:l.trendChartData,options:a.trendChartOptions},null,8,["data","options"])]),s("div",ee,[s("div",te,[s("div",se,i(l.totalResearchFiltered),1),e[10]||(e[10]=s("div",{class:"text-[10px] uppercase tracking-wider text-slate-500 font-medium"},"Total Penelitian",-1))]),s("div",re,[s("div",ae,i(l.totalServicesFiltered),1),e[11]||(e[11]=s("div",{class:"text-[10px] uppercase tracking-wider text-slate-500 font-medium"},"Total Pengabdian",-1))]),s("div",oe,[s("div",le,i(l.peakYear.year||"-"),1),e[12]||(e[12]=s("div",{class:"text-[10px] uppercase tracking-wider text-slate-500 font-medium"},"Tahun Terbanyak",-1))]),s("div",ie,[s("div",ne,i(l.peakYear.total||0),1),s("div",de,"Karya di "+i(l.peakYear.year||"-"),1)])])]),s("div",ce,[(d(!0),c(p,null,h(a.tabs,o=>(d(),c("button",{key:o.key,onClick:x=>a.activeTab=o.key,class:g(["px-4 py-2.5 rounded-xl text-sm font-bold transition-all duration-200 flex items-center gap-2",a.activeTab===o.key?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-lg shadow-rose-500/25":"bg-white text-slate-600 border border-slate-200 hover:border-rose-300 hover:text-rose-600"])},[s("span",null,i(o.icon),1),s("span",null,i(o.label),1),s("span",{class:g(["px-2 py-0.5 rounded-full text-xs",a.activeTab===o.key?"bg-white/20 text-white":"bg-slate-100 text-slate-500"])},i(l.getTabCount(o.key)),3)],10,ue))),128))]),s("div",pe,[(d(!0),c(p,null,h(l.filteredItems,(o,x)=>(d(),c("div",{key:`${o.type}-${x}`,class:"card group hover:shadow-lg hover:-translate-y-1 transition-all duration-300"},[s("div",he,[s("img",{src:o.image,alt:o.title,loading:"lazy",class:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"},null,8,fe),e[13]||(e[13]=s("div",{class:"absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),s("div",ge,[s("span",{class:g(l.getBadgeClass(o))},i(l.getBadgeText(o)),3),o.year?(d(),c("span",be,i(o.year),1)):v("",!0)]),s("h3",{class:"font-bold text-slate-800 text-sm leading-relaxed mb-3 group-hover:text-rose-600 transition-colors line-clamp-2",title:o.title},i(o.title),9,xe),s("div",ye,[e[14]||(e[14]=s("div",{class:"w-6 h-6 bg-gradient-to-br from-slate-200 to-slate-300 rounded-full flex items-center justify-center flex-shrink-0"},[s("svg",{class:"w-3 h-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),s("div",ve,[s("span",me,i(o.author),1),s("span",ke,i(o.prodi),1)])])]))),128))]),l.filteredItems.length===0?(d(),c("div",_e,[...e[15]||(e[15]=[s("svg",{class:"w-16 h-16 mx-auto text-slate-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),s("h3",{class:"text-lg font-bold text-slate-600 mb-1"},"Tidak ada data ditemukan",-1),s("p",{class:"text-sm text-slate-400"},"Coba ubah filter atau kata kunci pencarian",-1)])])):v("",!0),s("div",we,[s("span",null,[e[16]||(e[16]=b("Menampilkan ",-1)),s("strong",Ce,i(l.filteredItems.length),1),e[17]||(e[17]=b(" dari ",-1)),s("strong",Pe,i(l.totalItems),1),e[18]||(e[18]=b(" karya",-1))])])])}const Se=R(D,[["render",Ye],["__scopeId","data-v-6709059f"]]),Ee={__name:"GalleryView",setup(t){return(e,r)=>(d(),A(Se))}};export{Ee as default};
